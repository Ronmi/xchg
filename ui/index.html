<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="utf-8">
    <title>外匯交易小幫手</title>
    <link href="css/normalize.css" rel="stylesheet"/>
    <link href="css/main.css" rel="stylesheet"/>
    <script src="node_modules/vue/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="insert">
	<form action="#">
	  <fieldset>
	    <legend>新增</legend>
	    <label for="date">
	      <span>交易時間</span>
	      <input name="date" type="datetime" v-model="form.when"/>
	    </label>
	    <label for="local">
	      <span>成本(買入為負)</span>
	      <input name="local" type="number" step="0.01" v-model="form.local"/>
	    </label>
	    <div class="foreign">
	      <label for="foreign">
		<span>金額(買入為正)</span>
		<input name="foreign" type="number" step="0.01" v-model="form.foreign"/>
	      </label>
	      <label for="currency">
		<span>幣別</span>
		<select name="currency" v-model="form.code">
		  <template v-for="(code, name) in T">
		    <option :value="code">{{name}}</option>
		  </template>
		</select>
	      </label>
	    </div>
	    <button>送出</button>
	  </fieldset>
	</form>
      </div>
      <div class="list">
	<table cellspacing="0">
	  <caption>交易記錄</caption>
	  <thead>
	    <tr>
	      <th>交易時間</th>
	      <th>幣別</th>
	      <th>金額</th>
	      <th>成本</th>
	      <th>匯率</th>
	    </tr>
	  </thead>
	  <tbody v-cloak>
	    <tr v-for="order of orders" track-by="when" transition="fade">
	      <td class="time">{{order.when}}</td>
	      <td class="currency">{{order.code | translate}}</td>
	      <td class="foreign" :class="isNegClass(order.foreign)">{{order.foreign | floatFormat 2}}</td>
	      <td class="local" :class="isNegClass(order.local)">{{order.local | floatFormat 2}}</td>
	      <td class="rate">{{-(order.local/order.foreign) | floatFormat 4}}</td>
	    </tr>
	  </tbody>
	</table>
      </div>
    </div>
    <script src="js/bundle.js"></script>
  </body>
</html>
